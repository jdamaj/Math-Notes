
\subsection{Ultrafilters}

\begin{theorem}[Los' Theorem]
    For every forumla $\vp(v_1, \ldots, v_k)$ and $g_1, \ldots, g_k \in \prod_{i \in I}M_i$, $\cM = \prod_{i \in I}\cM_i /\cU$, $\cM \models \phi([g_1], \ldots, [g_n]) \ifff \{ i \in I \, | \, \cM_i \models \phi(g_1(i), \ldots, g_k(i))\} \in \cU$ 
\end{theorem}

\begin{corollary}
    $\cM \preceq \cM^I/\cU$ by $ m \mapsto g_m$ where $g_m(i)=i$ $\fa i \in I$ 
\end{corollary}

\begin{pf}
    By induction on formulas $\vp$ 
    \begin{itemize}
        \item $\vp$ atomic. $([g_1], \ldots, [g_n]) \in R^{\cM} \iff \{i \in I \, | \, (g_1(i), \ldots, g_n(i)) \in R^{\cM_i}\} \in \cU$ by definition. \\
        Similar for $=$ 
        \item $\vp$ is $\psi_1 \wedge \psi_2$. $\cM \models \vp([\overline{g}]) \ifff \cM \models \psi_1[\overline{g}]$ and $\cM \models \psi_2[\overline{g}] \stackrel{\text{IH}}{\ifff} \{ i \, | \, \cM_i \models \psi_1(\overline{g(i)})\} \in \cU$ and $\{ i \, | \, \cM_i \models \psi_2(\overline{g(i)})\} \in \cU \ifff \{ i \, | \, \cM_i \models \psi_1(\overline{g(i)})\} \cap \{ i \, | \, \cM_i \models \psi_2(\overline{g(i)})\} \in \cU \ifff \{ i \, | \, \cM_i \models \psi_1(\overline{g(i)}) \wedge \psi_2(\overline{g(i)})\} \in \cU$ \\
        $\vp$ is $\psi_1 \vee \psi_2$ is similar 
        \item $\vp$ is $\neg \psi$. $\cM \models \vp \ifff \cM \not\models \psi \ifff \{ i \, \cM_i \models \psi\} \not\in \cU \ifff \{i \, | \cM_i \models \vp\} \in \cU$ 
        \item $\vp(\overline{v})$ is $\ex \overline{x} \psi(x, \overline{v})$. $\cM \models \vp[\overline{g}] \ifff $ there is $h \in M$ such that $\cM \models \psi([h], [\overline{g}]) \stackrel{\text{IH}}{\ifff} \{ i \, | \, \cM_i \models \psi(h(i), \overline{g(i)})\} \in \cU$ for some $h \ifff$ $\{ i \, | \, \cM_i \models \ex x \psi(x, \overline{g(i)})\} \in \cU$  
    \end{itemize}
\end{pf}

\begin{pf}[Proof of Compactness]
    Let $T$ be finitely satisfiable. For every $\Delta \subseteq T$ finite, there is $\cM_{\Delta} \models \Delta$. Let $I = \{ \Delta \subseteq I \, | \Delta$ finite $\}$. For $\Sigma \in I$, let $X_{\Sigma} = \{\Delta \subseteq I \, | \, \Sigma \subseteq \Delta\} \subseteq I$. Let $\cD = \{Y \subseteq I \, |$ for some $\Sigma$, $Y \supseteq X_{\Sigma}\}$ (filter generated by $X_{\Sigma}'s$). Claim $\cD$ is a filter, $\vn \not\in \cD, I \in \cD$, closed upwards. $X_{\Sigma} \cap X_{\Sigma'} = X_{\Sigma \cup \Sigma'}$ so closed under intersection. Let $\cU \supseteq \cD$ be an ultrafilter. Let $\cM = \prod_{\Delta \in I}\cM_{\Delta}\ /cU$. For $\vp \in T$, $X_{\{\vp\}}\in \cU$ and for all $\Delta \in X_{\{\vp\}}$, $\cM_{\Delta} \models \vp$ so $\{ \Delta \in I \, | \, \cM_{\Delta} \models \vp\} \supseteq X_{\{\vp\}} \in \cU$ so $\cM \models \vp$ by Los' thm.
 \end{pf}

\subsection{Back and Forth Proofs}

\begin{example}
    DLO - dense linear orders without endpoints, $\cL = \{\le\}$ \\
    $(\bQ, \le), (\bR, \le), (\bR^2, \text{lex}), (2^{<\omega})$ orderd by binary tree with ends removed. 
\end{example}

\begin{theorem}[Cantor]
    DLO is $\aleph_0$ categorical, complete, and decidable. If $A,B \models$ DLO, countable then $A \equiv B$ 
\end{theorem}

\begin{pf}
    Given $A = \{a_0, a_1, a_2, \ldots \}, B = \{b_0, b_1, b_2, \ldots \}$ we specify an isomorphism as follows. \\
    Choose where to send $a_0$ arbitrarily, choose an element in $A$, not already chosen, to map to $b_0$ such that it respects order. At each step continue ensuring $a_i$ is in the domain, $b_i$ is in the range while preserving order. This is possible the ordering is dense and has no endpoints. 
\end{pf}    